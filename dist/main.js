(()=>{"use strict";const e=document.querySelector("#city-country"),t=document.querySelector("#daily-forecast"),n=document.querySelector("#weekly-forecast"),i=e=>fetch(((e="",t="")=>""===e&""===t?console.log("Enter City and Country"):""===e?console.log("Enter a City"):""===t?console.log("Select a Country Code"):"https://api.openweathermap.org/data/2.5/forecast?q="+e+","+t+"&units=metric&appid=b4094e7ee81afa53177036765e7564f9")(...e),{mode:"cors"}).then((e=>e.json())),o=e=>`http://openweathermap.org/img/wn/${e}@2x.png`,r=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},c=t=>{e.appendChild(((e,t)=>{let n=document.createElement("div"),i=document.createElement("h1");i.innerHTML=e;let o=document.createElement("h5");return o.innerHTML=t,n.appendChild(i),n.appendChild(o),n})(...(t=>(r(e),[t.city.name,t.city.country]))(t)))},a=(e,t=!0)=>t?new Date(1e3*e).toDateString():new Date(1e3*e),d=e=>new Date(1e3*e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),l=e=>new Date(1e3*e).toLocaleDateString("en-US",{weekday:"long"}),m=e=>`${e}Â°C`,p=(()=>{const e=(e,t,n,i)=>{let r=document.createElement("div"),c=document.createElement("h3"),a=document.createElement("div");c.innerHTML=e,a.innerHTML=void 0!==i?`<img src=${o(i)}>`:t,r.appendChild(c),r.appendChild(a),n.appendChild(r)};return{makeComponent:n=>{r(t),t.appendChild(((t,n,i,o,r,c,d,l)=>{let m=document.createElement("div"),p=document.createElement("div");return p.innerHTML=a(l),m.appendChild(p),e("Current Temp.",t,m),e("Feels Like",n,m),e("Min",i,m),e("Max",o,m),e("Humidity",r,m),e(c,!1,m,d),m})(...(e=>[m(e.list[0].main.temp.toPrecision(2)),m(e.list[0].main.feels_like.toPrecision(2)),m(e.list[0].main.temp_min.toPrecision(2)),m(e.list[0].main.temp_max.toPrecision(2)),`${e.list[0].main.humidity}%`,(e=>{try{return e.split(" ").map((e=>`${e.slice(0,1).toUpperCase()}${e.slice(1)}`)).join(" ")}catch(e){console.log(`${e}`)}})(e.list[0].weather[0].description),e.list[0].weather[0].icon,e.list[0].dt])(n)))}}})(),s=(e,t,n,i,r)=>{const c=document.createElement("div"),a=document.createElement("div");a.textContent=e;const d=document.createElement("div");d.textContent=t;const l=document.createElement("div");l.innerHTML=`<img src=${o(n)}>`;const m=document.createElement("div"),p=document.createElement("div");p.textContent=i;const s=document.createElement("div");return s.textContent=r,m.appendChild(p),m.appendChild(s),c.appendChild(a),c.appendChild(d),c.appendChild(l),c.appendChild(m),c},u=e=>{r(n);for(let i=1;i<10;i++){let o=(t=e.list[i],[d(t.dt),l(t.dt),t.weather[0].icon,m(t.main.temp_min.toPrecision(2)),m(t.main.temp_max.toPrecision(2))]),r=s(...o);n.append(r)}var t};document.querySelector("#search-fields > form > button").addEventListener("click",(async()=>{let e=[document.querySelector('#search-fields > form > input[name="city"]').value,document.querySelector('#search-fields > form > input[name="country-code"]').value];if(e.includes(""))return;let t=await i(e);c(t),p.makeComponent(t),u(t)}))})();